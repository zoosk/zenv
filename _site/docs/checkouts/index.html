<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Checkouts</title>
  <meta name="description" content="Bringing ZEN to your dev environment
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://g.zoosk.com/docs/checkouts/">
  <link rel="alternate" type="application/rss+xml" title="ZENv" href="https://g.zoosk.com/feed.xml">
  <style type="text/css">
    .page-content.hero {
      background-image : url("/images/Zenv_bakground-02.png");
    }
  </style>
</head>


  <body class="page">

    <header class="site-header">
  <div class="site-menu">
    <span><img class="logo" src="/images/ZENV_brand_logo_only2.png" /></span>
    <span class="from-text">by</span><a target="_blank" href="https://www.zoosk.com?from=zenv"><img class="zoosk-logo-img" src="/images/Zoosk-blue-logo.png" /></a>
    <div class="categories">
      <span class="category-item"><a href="/">Home</a></span>
      <span class="category-item"><a href="https://g.zoosk.com/platform/zenv/wiki">Docs</a></span>
      <span class="category-item"><a href="https://about.zoosk.com/en/engineering-blog">Engineering Blog</a></span>
      <span class="category-item bold"><a class="bold" target="_blank" href="https://g.zoosk.com/platform/zenv">GitHub Project</a></span>
    </div>
  </div>
</header>




    <div class="page-content docs">
        <div class="doc-category">
            <div class="docs">
               <ul class="doc-list">
                  <li>
                     <a href="/docs/quickstart/">Quick Start</a>
                  </li>
                  <li>
                     <a href="/docs/autobuild/">Autobuild</a>
                  </li>
                  <li>
                     <a href="/docs/checkouts/">Checkouts</a>
                  </li>
                  <li>
                     <a href="/docs/environment/">Environment</a>
                  </li>
                  <li>
                     <a href="/docs/installation/">Installation</a>
                  </li>
                  <li>
                     <a href="/docs/variables/">Environment Variables</a>
                  </li>
               </ul>

                <div class="doc-content">
                    <h1 id="checkouts">Checkouts</h1>

<p>ZEnv was created to manage changing environments between different checkouts.
This article describes how they are managed and represented.</p>

<h2 id="what-are-they">What are they?</h2>

<p>A checkout is a folder within your workspace folder that contains a git
repository. Each one has two major features:</p>

<ul>
  <li>The <strong>name</strong>, which is the name of the folder it resides in. This is used to
select the checkout using the <code class="highlighter-rouge">use</code> command.</li>
  <li>The <strong>type</strong>, which is the name of the remote git repository, without forks.
For example, the repo at https://github.com/github/scripts-to-rule-them-all
has type ‘scripts-to-rule-them-all’. The ZEnv repo type is just <code class="highlighter-rouge">zenv</code>.</li>
</ul>

<p>ZEnv allows you to create different environments for each checkout type.</p>

<h2 id="how-do-they-work">How do they work?</h2>

<h3 id="properties">Properties</h3>

<p>When you <code class="highlighter-rouge">use</code> a checkout for the first time, ZEnv will create a properties
file in that checkout’s folder named <code class="highlighter-rouge">work.properties</code>. This file will be made
in exactly the same manner as the global <code class="highlighter-rouge">.zenvrc</code> file, except that instead
of using the <code class="highlighter-rouge">global.properties</code> file, it will use the <code class="highlighter-rouge">default.work.properties</code>
file by default.</p>

<p>For more information on template properties files, see installation.md.</p>

<p>When a developer switches their current checkout using the <code class="highlighter-rouge">use</code> command, the
<code class="highlighter-rouge">work.properties</code> file will execute in their environment, updating their set of
environment variables. This means that you can run arbitrary code when a user
enters a given checkout type, like helpfully printing the <code class="highlighter-rouge">git status</code>.</p>

<h3 id="paths">Paths</h3>

<p>The second thing that happens when a developer switches checkouts is that the
<code class="highlighter-rouge">$PATH</code> variable is modified. Each checkout has access to its own private set
of tools, contained in <code class="highlighter-rouge">bin/&lt;checkout_type&gt;/</code>, in addition to the ones that are
in <code class="highlighter-rouge">bin</code>. Don’t worry if this folder doesn’t exist yet – it won’t break.</p>

<h2 id="how-do-i-use-them">How do I use them?</h2>

<p>To get the most out of ZEnv, you’ll want to create several different template
properties files. To do this, simply create a file in the <code class="highlighter-rouge">properties</code> folder
that replaces “default” with the checkout type that you want it to work for.</p>

<p>For example, the maintainers of the above repo would create a file called
<code class="highlighter-rouge">scripts-to-rule-them-all.work.properties</code>. If you were working on ZEnv itself,
you would create a file called <code class="highlighter-rouge">zenv.work.properties</code>. These files would
override the default properties file.</p>

<p>Finally, it is <strong>very important</strong> that each of the files that you create
contains a <code class="highlighter-rouge">ZENV_BUILD_COMMAND</code> definition. This variable contains the text of
the command that the ubiquitous <code class="highlighter-rouge">build</code> command will run.</p>

<h2 id="custom-initialization">Custom initialization</h2>

<p>Like the install process, the checkout initialization process allows running
arbitrary code. Also like the install process, adding a file in the
<code class="highlighter-rouge">setupscripts</code> directory will change the code that runs.</p>

<p>By default, the code in <code class="highlighter-rouge">default.setup.sh</code> will run on every checkout
initialization. But, like properties files, you can override this for specific
checkouts by creating a file named after your checkout’s type, such as
<code class="highlighter-rouge">zenv.setup.sh</code>.</p>

                </div>
            </div>
        </div>
    </div>

    <footer class="site-footer">
    <div class="site-menu">
      <span><img class="logo" src="/images/ZENV_brand_logo_only2.png" /></span>
      <span class="from-text">by</span><a target="_blank" href="https://www.zoosk.com?from=zenv"><img class="zoosk-logo-img" src="/images/Zoosk-blue-logo.png" /></a>
      <div class="categories">
        <span class="category-item"><a href="/">Home</a></span>
        <span class="category-item"><a href="/docs/quickstart/">Docs</a></span>
        <span class="category-item"><a href="https://about.zoosk.com/en/engineering-blog">Engineering Blog</a></span>
        <span class="category-item bold"><a class="bold" target="_blank" href="https://g.zoosk.com/platform/zenv">GitHub Project</a></span>
      </div>
    </div>
</footer>


  </body>

</html>
