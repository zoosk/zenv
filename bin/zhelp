#! /usr/bin/env bash

##
# Help for built-in functions. If you're adding a function, you should add some documentation here.
#
case "$1" in
    'use' )
        echo 'use: Change the current workspace.'
        echo 'Usage (print current workspace): use'
        echo 'Usage (change current workspace): use <workspace>'
        ;;
    
    'build' | 'buildweb' | 'buildstatic' )
        echo 'build, build-web, build-static: Build the current workspace.'
        echo 'Usage: build <command args>...'
        echo 'Arguments will be passed to the build process.'
        ;;
    
    'log' )
        echo 'log: Tail a log.'
        echo 'Usage (list logs): log'
        echo 'Usage (tail syslog): log syslog'
        echo 'Usage (tail apache log): log <log_name> <log_type="error">'
        ;;
    
    'devbox' )
        echo 'devbox: SSH into your dev instance.'
        ;;
    
    'dbbox' )
        echo 'dbbox: Log into your MySQL database.'
        ;;
    
    'clearmem' )
        echo 'clearmem: Clear memcached.'
        echo 'Usage (clear everything): clearmem'
        echo 'Usage (clear specific caches): clearmem <cache_name>...'
        ;;
    
    'deactivate' )
        echo 'deactivate: Exit ZEnv.'
        echo 'This will exit the current shell, so look out!'
        ;;
    
    '-l' | '--list-utils' )
        echo 'The utilities that work inside ZEnv are:'
        ls -1 "${ZENV_ROOT}/bin"
        echo ''
        echo 'Each program should maintain its own help or usage details.'
        ;;

    * )
        echo 'The current built-in commands are:
zhelp           This help program.
use             Change the current workspace.
build           Build something at the root level.
buildweb        Build something at the web/ level.
buildstatic     Build static files.
log             Tail a log.
devbox          SSH into your dev instance.
dbbox           Log into your MySQL database.
clearmem        Clear memcached.
deactivate      Exit ZEnv.

For help on individual commands, type "zhelp <command>". To see a list of utilities, type "zhelp -l" or "zhelp --list-utils".'
    ;;
esac
